/*
  Serene Dashboard - World Class UX Polish
  Version: 3.0.0 (Ultra-Think)
  Author: Jules (AI Assistant)

  Philosophy:
  - Hyper-optimized for separate desktop/mobile modalities.
  - "Stripe-like" attention to detail: typography, spacing, shadows.
  - Performance-conscious animations.
  - Deep glassmorphism with specular highlights.
*/

:root {
    /* --- Core Palette (Refined for Depth) --- */
    --color-bg-primary: #F7F9FC;
    --color-text-primary: #1e293b; /* Slate 800 - softer than pure black */
    --color-text-secondary: #475569; /* Slate 600 */
    --color-text-muted: #94a3b8; /* Slate 400 */
    --color-text-inverted: #ffffff;

    /* Accent - Emerald/Teal based but sophisticated */
    --color-accent: #10b981;
    --color-accent-hover: #059669;
    --color-accent-subtle: rgba(16, 185, 129, 0.1);

    --color-danger: #ef4444;

    /* --- Glassmorphism V3 (The "Expensive" Look) --- */
    --glass-surface: rgba(255, 255, 255, 0.7);
    --glass-surface-hover: rgba(255, 255, 255, 0.85);
    --glass-border: rgba(255, 255, 255, 0.4);
    --glass-highlight: rgba(255, 255, 255, 0.6);
    --glass-blur: 20px;
    --glass-saturate: 180%;

    /* --- Typography (Inter Optimized) --- */
    --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    --font-jp: 'Noto Sans JP', sans-serif;

    /* Type Scale (Major Third) */
    --text-xs: 0.75rem;     /* 12px */
    --text-sm: 0.875rem;    /* 14px */
    --text-base: 1rem;      /* 16px */
    --text-lg: 1.125rem;    /* 18px */
    --text-xl: 1.25rem;     /* 20px */
    --text-2xl: 1.5rem;     /* 24px */
    --text-3xl: 2rem;       /* 32px */
    --text-4xl: 3rem;       /* 48px */

    /* Letter Spacing (Contextual) */
    --tracking-tighter: -0.05em;
    --tracking-tight: -0.025em;
    --tracking-normal: 0em;
    --tracking-wide: 0.025em;
    --tracking-wider: 0.05em;

    /* --- Spacing System (8px Grid) --- */
    --spacing-2xs: 0.125rem; /* 2px */
    --spacing-xs: 0.25rem;   /* 4px */
    --spacing-sm: 0.5rem;    /* 8px */
    --spacing-md: 1rem;      /* 16px */
    --spacing-lg: 1.5rem;    /* 24px */
    --spacing-xl: 2rem;      /* 32px */
    --spacing-2xl: 3rem;     /* 48px */
    --spacing-3xl: 4rem;     /* 64px */

    --radius-sm: 0.5rem;
    --radius-md: 0.75rem;
    --radius-lg: 1rem;
    --radius-xl: 1.5rem;
    --radius-full: 9999px;

    /* --- Shadows (Multi-layered & Colored) --- */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    /* Soft colored shadow for depth */
    --shadow-md:
        0 4px 6px -1px rgba(0, 0, 0, 0.05),
        0 2px 4px -1px rgba(0, 0, 0, 0.03),
        0 0 0 1px rgba(255,255,255,0.1) inset;
    --shadow-lg:
        0 10px 15px -3px rgba(0, 0, 0, 0.05),
        0 4px 6px -2px rgba(0, 0, 0, 0.025),
        0 0 0 1px rgba(255,255,255,0.2) inset;
    --shadow-xl:
        0 20px 25px -5px rgba(0, 0, 0, 0.05),
        0 10px 10px -5px rgba(0, 0, 0, 0.02);

    /* The "Glass" Shadow - Inner bevel + Drop shadow */
    --shadow-glass:
        0 4px 30px rgba(0, 0, 0, 0.05),
        inset 0 1px 0 0 rgba(255, 255, 255, 0.7); /* Top specular highlight */

    /* --- Animation (Spring Physics) --- */
    --ease-spring: cubic-bezier(0.25, 0.8, 0.25, 1);
    --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
    --duration-fast: 200ms;
    --duration-normal: 400ms;
    --duration-slow: 700ms;

    /* --- Dynamic Variables --- */
    --current-widget-bg-color: var(--glass-surface);
    --current-border-color: var(--glass-border);
    --seasonal-filter-effect: none;
}

/* --- Resets & Base --- */
*, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    font-size: 16px;
    height: 100%;
}

body {
    font-family: var(--font-sans);
    font-size: var(--text-base);
    line-height: 1.6;
    color: var(--color-text-primary);
    background-color: var(--color-bg-primary);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    min-height: 100vh;
    overflow-x: hidden;
    transition: background-color var(--duration-normal);
}

:lang(ja) {
    font-family: var(--font-jp), var(--font-sans);
}

/* Scrollbar Polish */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}
::-webkit-scrollbar-track {
    background: transparent;
}
::-webkit-scrollbar-thumb {
    background: rgba(0,0,0,0.1);
    border-radius: var(--radius-full);
}
::-webkit-scrollbar-thumb:hover {
    background: rgba(0,0,0,0.2);
}

/* --- Layout Architecture --- */
.dashboard-container {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    padding-bottom: 80px; /* Space for fixed controls */
}

/* Header */
.dashboard-header {
    text-align: center;
    padding: var(--spacing-xl) 0 var(--spacing-lg);
    position: relative;
    z-index: 10;
    animation: fadeSlideDown 0.8s var(--ease-out);
}

.dashboard-header h1 {
    font-weight: 300;
    font-size: var(--text-3xl);
    letter-spacing: var(--tracking-wide);
    color: var(--color-text-primary);

    /* Floating Glass Badge Style */
    display: inline-flex;
    align-items: center;
    padding: var(--spacing-sm) var(--spacing-2xl);
    background: rgba(255, 255, 255, 0.25);
    backdrop-filter: blur(12px);
    border-radius: var(--radius-full);
    border: 1px solid rgba(255, 255, 255, 0.4);
    box-shadow:
        0 4px 20px rgba(0,0,0,0.03),
        inset 0 1px 0 rgba(255,255,255,0.6);
}

/* Main Grid */
.dashboard-main {
    display: flex;
    flex-direction: column;
    width: 100%;
    max-width: 1440px;
    margin: 0 auto;
    padding: 0 var(--spacing-lg);
    gap: var(--spacing-lg);
}

@media (min-width: 1024px) {
    .dashboard-main {
        flex-direction: row;
        align-items: flex-start;
        padding-top: var(--spacing-lg);
    }

    .column-sidebar, .column-widgets {
        flex: 0 0 320px;
    }

    .column-content {
        flex: 1;
        min-width: 0;
    }
}

.column {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-lg);
}

/* --- Ultra-Premium Card / Widget Styles --- */
.widget, .card, .glass-panel {
    background: var(--current-widget-bg-color);

    /* The Magic Blur */
    backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturate));
    -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturate));

    /* Borders & Highlights */
    border-radius: var(--radius-lg);
    border: 1px solid transparent; /* Fallback */
    box-shadow: var(--shadow-glass), var(--shadow-sm);

    padding: var(--spacing-lg);

    /* Positioning & Paint */
    position: relative;
    overflow: hidden; /* Contains children */
    transform: translateZ(0); /* Hardware accel */
    transition:
        transform var(--duration-normal) var(--ease-spring),
        box-shadow var(--duration-normal) var(--ease-spring),
        background-color var(--duration-normal);
}

/* The Specular Highlight Border (Top Edge) */
.widget::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: var(--radius-lg);
    padding: 1px; /* Border width */
    background: linear-gradient(
        180deg,
        rgba(255, 255, 255, 0.8) 0%,
        rgba(255, 255, 255, 0.1) 40%,
        rgba(255, 255, 255, 0) 100%
    );
    -webkit-mask:
        linear-gradient(#fff 0 0) content-box,
        linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
}

/* Hover State - Desktop Only */
@media (hover: hover) {
    .widget:hover {
        transform: translateY(-4px);
        box-shadow:
            0 20px 40px -5px rgba(0, 0, 0, 0.08),
            inset 0 1px 0 0 rgba(255, 255, 255, 0.9);
        background: var(--glass-surface-hover);
    }
}

.widget-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--spacing-md);
    padding-bottom: var(--spacing-sm);
    border-bottom: 1px solid rgba(0,0,0,0.04);
}

.widget h2, .widget h3, .widget h4 {
    font-family: var(--font-sans);
    font-weight: 600;
    color: var(--color-text-primary);
    letter-spacing: var(--tracking-tight);
    margin: 0;
    font-size: var(--text-lg);
}

/* --- Interactive Elements (Buttons & Inputs) --- */

/* Base Button */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-sm);

    padding: 0.625rem 1.25rem;
    border-radius: var(--radius-md);

    font-weight: 600;
    font-size: var(--text-sm);
    letter-spacing: var(--tracking-normal);
    line-height: 1;

    cursor: pointer;
    border: none;
    outline: none;

    transition: all var(--duration-fast) var(--ease-out);
    position: relative;
    overflow: hidden;
}

/* Button Variants */
.btn-primary {
    background-color: var(--color-accent);
    color: white;
    box-shadow:
        0 1px 2px rgba(0,0,0,0.1),
        inset 0 1px 0 rgba(255,255,255,0.2); /* Top inner light */
}

.btn-primary:hover {
    background-color: var(--color-accent-hover);
    transform: translateY(-1px);
    box-shadow:
        0 4px 12px rgba(16, 185, 129, 0.3), /* Colored glow */
        inset 0 1px 0 rgba(255,255,255,0.2);
}

.btn-primary:active {
    transform: translateY(0);
}

.btn-secondary {
    background-color: rgba(255,255,255,0.5);
    color: var(--color-text-secondary);
    border: 1px solid rgba(0,0,0,0.05);
}

.btn-secondary:hover {
    background-color: rgba(255,255,255,0.8);
    color: var(--color-text-primary);
    border-color: rgba(0,0,0,0.1);
}

.btn-sm {
    padding: 0.375rem 0.75rem;
    font-size: var(--text-xs);
    border-radius: var(--radius-sm);
}

.icon-btn {
    background: transparent;
    border: none;
    color: var(--color-text-muted);
    width: 36px;
    height: 36px;
    border-radius: var(--radius-full);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all var(--duration-fast) ease;
}

.icon-btn:hover {
    background-color: var(--color-accent-subtle);
    color: var(--color-accent);
    transform: scale(1.05);
}

/* Inputs */
input:not([type="checkbox"]):not([type="radio"]):not([type="range"]), select, textarea {
    width: 100%;
    padding: 0.75rem 1rem;
    border: 1px solid rgba(203, 213, 225, 0.5);
    border-radius: var(--radius-md);
    background-color: rgba(255, 255, 255, 0.6);
    color: var(--color-text-primary);
    font-family: inherit;
    font-size: var(--text-sm);
    transition: all var(--duration-fast) var(--ease-out);
}

input:not([type="checkbox"]):not([type="radio"]):not([type="range"]):focus, select:focus, textarea:focus {
    outline: none;
    border-color: var(--color-accent);
    background-color: #fff;
    box-shadow: 0 0 0 3px var(--color-accent-subtle);
}

/* --- Specific Widget Refinements --- */

/* Time Widget - Clean & Crisp */
#time-date-widget {
    text-align: center;
    padding: var(--spacing-xl) var(--spacing-lg);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

#time-display {
    font-size: 4.5rem; /* Larger impact */
    font-weight: 200; /* Thinner elegant weight */
    line-height: 1;
    letter-spacing: -0.04em;
    font-variant-numeric: tabular-nums;
    color: var(--color-text-primary);
    margin-bottom: var(--spacing-xs);

    /* Gradient text effect (subtle) */
    background: linear-gradient(180deg, var(--color-text-primary) 0%, var(--color-text-secondary) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    /* Fallback */
    color: var(--color-text-primary);
}
@supports (-webkit-background-clip: text) {
    #time-display { color: transparent; }
}

#date-display {
    font-size: var(--text-lg);
    color: var(--color-text-secondary);
    font-weight: 400;
}

/* Weather Widget - Visual Storytelling */
.weather-main {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    margin-bottom: var(--spacing-lg);
}

#weather-temp-current {
    font-size: 3.5rem;
    font-weight: 200;
    line-height: 1;
    letter-spacing: -0.03em;
}

.weather-icon img, .weather-icon svg {
    filter: drop-shadow(0 4px 6px rgba(0,0,0,0.1));
    transition: transform 3s ease-in-out;
}
.weather-icon:hover img {
    transform: rotate(10deg) scale(1.1);
}

/* Forecast - Micro-Grid */
#weather-forecast-daily {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: var(--spacing-xs);
    text-align: center;
}

.forecast-day {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-xs);
    border-radius: var(--radius-sm);
    transition: background-color var(--duration-fast);
}
.forecast-day:hover {
    background-color: rgba(255,255,255,0.3);
}

.forecast-day span {
    font-size: var(--text-xs);
    font-weight: 600;
    color: var(--color-text-secondary);
}

/* Quick Links - Pill Style */
#quick-links-list {
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-sm);
}

.quick-link-item {
    background: rgba(255,255,255,0.5);
    padding: var(--spacing-xs) var(--spacing-md);
    border-radius: var(--radius-full);
    font-size: var(--text-sm);
    font-weight: 500;
    color: var(--color-text-primary);
    text-decoration: none;
    border: 1px solid rgba(0,0,0,0.05);
    transition: all var(--duration-fast);
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
}

.quick-link-item:hover {
    background: white;
    transform: translateY(-2px);
    box-shadow: var(--shadow-sm);
    color: var(--color-accent);
}

/* Meditation Timer - Visual Centerpiece */
.timer-display-container {
    margin: var(--spacing-lg) auto;
}
#time-text {
    font-size: 3rem;
    font-weight: 200;
    color: var(--color-text-primary);
}

/* --- Gallery Controls - The Floating Bar (Stripe-like) --- */
#gallery-controls {
    position: fixed;
    bottom: var(--spacing-xl);
    left: 50%;
    transform: translateX(-50%);

    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(24px) saturate(180%);

    padding: var(--spacing-sm) var(--spacing-lg);
    border-radius: var(--radius-full);

    display: flex;
    align-items: center;
    gap: var(--spacing-lg);

    box-shadow:
        0 20px 40px -10px rgba(0,0,0,0.15),
        0 0 0 1px rgba(255,255,255,0.5) inset;

    z-index: 1000;
    transition: all var(--duration-normal) var(--ease-spring);
}

#gallery-controls:hover {
    transform: translateX(-50%) translateY(-2px);
    background: rgba(255, 255, 255, 0.95);
    box-shadow:
        0 25px 50px -12px rgba(0,0,0,0.2),
        0 0 0 1px rgba(255,255,255,0.8) inset;
}

.control-btn {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    border: none;
    background: transparent;
    color: var(--color-text-secondary);
    font-size: 1.1rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--duration-fast) var(--ease-out);
}

.control-btn:hover {
    color: var(--color-text-primary);
    background-color: rgba(0,0,0,0.05);
    transform: scale(1.1);
}

.play-pause-btn {
    width: 56px;
    height: 56px;
    background: var(--color-text-primary);
    color: white;
    box-shadow: 0 10px 20px -5px rgba(0,0,0,0.3);
}

.play-pause-btn:hover {
    background: black;
    color: white;
    transform: scale(1.05);
    box-shadow: 0 15px 25px -5px rgba(0,0,0,0.35);
}

/* --- Animations --- */
@keyframes fadeSlideDown {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes fadeInUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

/* --- Mobile Hyper-Optimization --- */
@media (max-width: 768px) {
    :root {
        --glass-blur: 15px; /* Performance */
        --spacing-lg: 1rem;
        --text-3xl: 2rem;
    }

    .dashboard-container {
        padding-bottom: 120px; /* More clearance */
    }

    .dashboard-main {
        padding: var(--spacing-md);
        gap: var(--spacing-md);
    }

    /* Widget Stack */
    .column {
        gap: var(--spacing-md);
    }

    .widget {
        padding: var(--spacing-lg);
        /* Remove complex hover effects on mobile */
        transform: none !important;
    }

    /* Touch Target Optimization */
    .btn, .icon-btn, .control-btn, input, select {
        min-height: 44px; /* Apple Human Interface Guidelines */
    }

    /* Gallery Controls - Bottom Sheet Style */
    #gallery-controls {
        width: 100%;
        max-width: 100%;
        bottom: 0;
        left: 0;
        transform: none;
        border-radius: 20px 20px 0 0;
        padding: 1rem 1.5rem calc(1rem + env(safe-area-inset-bottom)) 1.5rem;

        background: rgba(255, 255, 255, 0.95);
        border-top: 1px solid rgba(0,0,0,0.05);
        box-shadow: 0 -10px 30px rgba(0,0,0,0.05);

        justify-content: space-between;
    }

    #gallery-controls:hover {
        transform: none;
    }

    /* Hide non-essential controls on mobile */
    .controls-left, .controls-right {
        display: none;
    }

    .controls-center {
        width: 100%;
        justify-content: space-evenly;
    }

    /* Audio Player Floating Card */
    #main-audio-player-container {
        width: calc(100% - 2rem);
        bottom: 100px; /* Above controls */
        top: auto;
        left: 1rem;
        right: 1rem;
        background: rgba(255,255,255,0.98);
        box-shadow: var(--shadow-xl);
    }
}

/* --- Utility Classes --- */
.hidden { display: none !important; }
.visually-hidden {
    border: 0; clip: rect(0 0 0 0); height: 1px; margin: -1px;
    overflow: hidden; padding: 0; position: absolute; width: 1px;
}

/* Backgrounds (SVGs) */
#background-gallery {
    position: fixed;
    inset: 0;
    z-index: -1;
}
.bg-image-container {
    position: absolute;
    inset: 0;
    background-size: cover;
    background-position: center;
    opacity: 0;
    transition: opacity 2s ease-in-out;
}
.bg-image-container.visible { opacity: 1; }

/* Lightbox Base */
#lightbox-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.9);
    backdrop-filter: blur(10px);
    z-index: 2000;
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
}
#lightbox-overlay.lightbox-visible {
    opacity: 1;
    pointer-events: auto;
}
#lightbox-image {
    max-width: 95vw;
    max-height: 90vh;
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-2xl);
}

/* Theme Classes (Legacy Support) */
.theme-sakura { --color-accent: #f472b6; --color-bg-primary: #fff1f2; }
.theme-momiji { --color-accent: #ea580c; --color-bg-primary: #fff7ed; }
.theme-yuki { --color-accent: #38bdf8; --color-bg-primary: #f0f9ff; }
.theme-natsu { --color-accent: #0ea5e9; --color-bg-primary: #f0f9ff; }
.theme-night { --color-bg-primary: #0f172a; --color-text-primary: #f1f5f9; --glass-surface: rgba(30, 41, 59, 0.7); }

/* --- Additional Elements Polish --- */

/* Journal */
#journal-text-input {
    background: rgba(255,255,255,0.4);
    border: none;
    border-bottom: 2px solid rgba(0,0,0,0.1);
    resize: none;
    transition: all var(--duration-fast);
}
#journal-text-input:focus {
    background: rgba(255,255,255,0.7);
    border-bottom-color: var(--color-accent);
}
.mood-btn {
    opacity: 0.6;
    transition: transform 0.2s;
}
.mood-btn:hover, .mood-btn.selected {
    opacity: 1;
    transform: scale(1.2);
}

/* SVGs - Positioned Background Elements */
.background-svg-container {
    position: fixed;
    inset: 0;
    z-index: -1;
    pointer-events: none;
}
.svg-mount-fuji {
    position: absolute;
    width: 30%;
    bottom: 0;
    left: 5%;
}
.svg-sakura-branch {
    position: absolute;
    width: 20%;
    top: 5%;
    right: 5%;
}


/* --- Layout Templates (Restored & Optimized) --- */

/* Traditional Grid Layout */
@media (min-width: 768px) and (max-width: 1023px) { /* Tablet */
    .dashboard-main.layout-traditional-grid {
        flex-wrap: wrap;
    }
    .dashboard-main.layout-traditional-grid .column-sidebar,
    .dashboard-main.layout-traditional-grid .column-content {
        flex-basis: calc(50% - (var(--spacing-lg) / 2));
        margin-bottom: var(--spacing-lg);
    }
    .dashboard-main.layout-traditional-grid .column-sidebar {
        margin-right: var(--spacing-lg);
        order: 1;
    }
    .dashboard-main.layout-traditional-grid .column-content {
        margin-right: 0;
        order: 2;
    }
    .dashboard-main.layout-traditional-grid .column-widgets {
        flex-basis: 100%;
        order: 3;
        margin-right: 0;
        margin-bottom: 0;
    }
}

@media (min-width: 1024px) { /* Desktop */
    .dashboard-main.layout-traditional-grid {
        flex-wrap: nowrap;
    }
    .dashboard-main.layout-traditional-grid .column-sidebar,
    .dashboard-main.layout-traditional-grid .column-content,
    .dashboard-main.layout-traditional-grid .column-widgets {
        flex-basis: calc(33.3333% - (var(--spacing-lg) * 2 / 3));
        margin-bottom: 0;
        flex-grow: 0;
    }
    .dashboard-main.layout-traditional-grid .column-sidebar {
        order: 1;
        margin-right: var(--spacing-lg);
    }
    .dashboard-main.layout-traditional-grid .column-content {
        order: 2;
        margin-right: var(--spacing-lg);
    }
    .dashboard-main.layout-traditional-grid .column-widgets {
        order: 3;
        margin-right: 0;
    }
}

/* Minimalist Center Layout */
.dashboard-main.layout-minimalist-center .column-sidebar,
.dashboard-main.layout-minimalist-center .column-widgets {
    display: none !important;
}

.dashboard-main.layout-minimalist-center .column-content {
    flex-basis: 80%;
    max-width: 900px;
    margin-left: auto !important;
    margin-right: auto !important;
    margin-bottom: 0 !important;
    order: 0 !important;
}
.dashboard-main.layout-minimalist-center {
    justify-content: center;
}

/* Asymmetrical Zen Layout */
@media (min-width: 768px) and (max-width: 1023px) { /* Tablet */
    .dashboard-main.layout-asymmetrical-zen {
        flex-wrap: wrap;
    }
    .dashboard-main.layout-asymmetrical-zen .column-sidebar {
        flex-basis: calc(30% - var(--spacing-lg));
        order: 1;
        margin-right: var(--spacing-lg);
        margin-bottom: var(--spacing-lg);
    }
    .dashboard-main.layout-asymmetrical-zen .column-content {
        flex-basis: 70%;
        order: 2;
        margin-right: 0;
        margin-bottom: var(--spacing-lg);
    }
    .dashboard-main.layout-asymmetrical-zen .column-widgets {
        flex-basis: 100%;
        order: 3;
    }
}

@media (min-width: 1024px) { /* Desktop */
    .dashboard-main.layout-asymmetrical-zen {
        flex-wrap: nowrap;
    }
    .dashboard-main.layout-asymmetrical-zen .column-sidebar {
        flex-basis: 20%;
        order: 1;
        margin-right: var(--spacing-lg);
    }
    .dashboard-main.layout-asymmetrical-zen .column-content {
        flex-basis: 55%;
        order: 2;
        margin-right: var(--spacing-lg);
    }
    .dashboard-main.layout-asymmetrical-zen .column-widgets {
        flex-basis: 25%;
        order: 3;
    }
}

/* Seasonal Flow Layout */
.dashboard-main.layout-seasonal-flow .column-widgets {
    display: none !important;
}

@media (min-width: 768px) {
    .dashboard-main.layout-seasonal-flow {
        flex-wrap: nowrap;
    }
    .dashboard-main.layout-seasonal-flow .column-sidebar {
        flex-basis: 30%;
        order: 1;
        margin-right: var(--spacing-lg);
    }
    .dashboard-main.layout-seasonal-flow .column-content {
        flex-basis: 70%;
        order: 2;
    }
}

/* Spring Flow (.layout-sf-spring) */
@media (min-width: 1024px) {
    .dashboard-main.layout-sf-spring .column-widgets {
        display: flex !important;
        flex-basis: 25%;
        order: 3;
    }
}

/* Summer Flow (.layout-sf-summer) */
@media (min-width: 1024px) {
    .dashboard-main.layout-sf-summer .column-sidebar { flex-basis: 25%; }
    .dashboard-main.layout-sf-summer .column-content { flex-basis: 50%; }
    .dashboard-main.layout-sf-summer .column-widgets { display: flex !important; flex-basis: 25%; }
}

/* Autumn Flow (.layout-sf-autumn) */
.dashboard-main.layout-sf-autumn .column-widgets { display: none !important; }

/* Winter Flow (.layout-sf-winter) */
.dashboard-main.layout-sf-winter .column-sidebar,
.dashboard-main.layout-sf-winter .column-widgets { display: none !important; }
.dashboard-main.layout-sf-winter .column-content {
    flex-basis: 80% !important;
    max-width: 900px !important;
    margin: 0 auto !important;
}
.dashboard-main.layout-sf-winter { justify-content: center !important; }
